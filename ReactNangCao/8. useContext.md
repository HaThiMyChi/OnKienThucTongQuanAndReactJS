# Hãy nêu khái niệm về useContext chi tiết và dễ hiểu nhất?

- `useContext` là một hook trong React, được sử dụng để truyền dữ liệu từ một `component cha` đến một hoặc nhiều `component con` bên trong cây `component` của nó, mà không cần phải truyền `props` qua nhiều tầng `component` trung gian.

- Khi sử dụng `useContext`, ta tạo ra một `context object`, lưu trữ các giá trị mà muốn chia sẻ giữa các `component`. Sau đó, trong các `component` cần sử dụng giá trị đó, ta sử dụng `useContext` để lấy giá trị đó từ `Context object`.

- Cách sử dụng `useContext` như sau:

**1. Tạo một `Context object`:**

```jsx
const MyContext = React.createContext(defaultValue);
```

**2. Đặt giá trị vào trong `Context object`:**

```jsx
<MyContext.Provider value={value}>...</MyContext.Provider>
```

**3. Sử dụng `useContext` để lấy giá trị từ `Context object`:**

```jsx
const value = useContext(MyContext);
```

- Khi giá trị của `Context object` thay đổi, React sẽ tự động `render` lại các component con sử dụng `useContext` để lấy giá trị từ `Context object`.

- Với cách sử dụng này, ta có thể dễ dàng truyền dữ liệu giữa các component trong cây component của mình mà không cần phải truyền `props` qua nhiều tầng component trung gian, giúp cho việc quản lý `state` và xử lý dữ liệu trở nên dễ dàng và hiệu quả hơn.

## useContext thường được sử dụng làm chức năng gì trong Reactjs?

- `useContext` thường được sử dụng trong React để giải quyết vấn đề truyền dữ liệu qua nhiều component con trong ứng dụng. Thay vì truyền `props` từ component cha đến component con, ta có thể sử dụng `Context` để cung cấp dữ liệu cho tất cả các component trong một tree component mà không cần phải truyền `props` qua nhiều cấp.

- `Ví duj`, khi xây dựng một ứng dụng e-commerce, thông tin về giỏ hàng của người dùng sẽ cần được truyền từ component cha (ví dụ như trang sản phẩm) đến các component con như header, sidebar, footer. Sử dụng `Context`, ta có thể tạo một `Context` riêng để lưu trữ thông tin về giỏ hàng và cung cấp cho tất cả các component trong ứng dụng mà không cần phải truyền `props` qua nhiều cấp.

- Với useContext, ta có thể lấy dữ liệu được cung cấp từ `Context` bất cứ khi nào và ở bất kỳ component nào trong tree component của ứng dụng.

## Những cách dùng useContext thường được sử dụng và hiệu quả nhất ?

- Cách sử dụng `useContext` thường được sử dụng và hiệu quả nhất trong React là để truyền dữ liệu và chức năng từ component cha đến các component con một cách dễ dàng và trực tiếp.

- Để sử dụng `useContext`, ta cần có một `context` đã được khai báo trước đó bằng cách sử dụng hàm `createContext()` của React.

- `Ví dụ`, chúng ta muốn tạo một `context` để lưu trữ thông tin ngôn ngữ hiện tại của ứng dụng, ta có thể khai báo như sau:

```jsx
// Khai báo context
const LanguageContext = React.createContext();

// Provider - Cung cấp dữ liệu
function LanguageProvider(props) {
    const [language, setLanguage] = useState("en");

    return (
        <LanguageContext.Provider value={{language, setLanguage }}>
            {props.children}
        </LanguageContext.Provider>
    );
}

// Component con sử dụng useContext để lấy dữ liệu từ context
function MyComponent() {
    const {language, setLanguage} = useContext(LanguageContext);

    return (
        <div>
            <p>Current language: {language}</p>
            <button onClick={() => setLanguage("vn")}>Change language to VN</button>
        </div>
    );
}
```
- Trong đoạn code trên, ta đã tạo ra một `context` là `LanguageContext` và một component con là `MyComponent`. Trong `LanguageProvider`, ta đã sử dụng `LanguageContext`. `Provider` để cung cấp dữ liệu (gồm `language` và `setLanguage`) cho các component con. Trong `MyComponent`, ta sử dụng `useContext` để lấy dữ liệu từ `LanguageContext` và hiển thị thông tin ngôn ngữ hiện tại cùng với một nút bấm để thay đổi ngôn ngữ.

- Việc sử dụng `useContext` giúp cho việc truyền dữ liệu và chức năng giữa các component trở nên dễ dàng hơn mà không cần phải sử dụng các `prop` truyền xuống từ component cha. Nó cũng giúp cho việc quản lý `state` và `logic` ứng dụng trở nên thuận tiện hơn.

## `Value` có phải là `props` mặc định của `useContext` hay không? Giải thích lý do vì sao?

- Không, value không phải là props mặc định của useContext
- Trong React, khi sử dụng `useContext`, ta cần truyền vào một giá trị là `context object`, được tạo ra từ hàm `React.createContext()`. Và giá trị của `context object` này được truyền vào thông qua `Provider component`.

- `value` là thuộc tính của `Provider component`, được sử dụng để truyền dữ liệu xuống cho các component con. Nếu không khai báo giá trị cho thuộc tính `value` thì giá trị mặc định sẽ là `undefined`.

```jsx
const ThemeContext = React.createContext("light");

function App() {
    return (
        // Su dung Provider de truyen gia tri xuong component con
        <ThemeContext.Provider value="dark">
            <Navbar />
        </ThemeContext.Provider>
    );
}

function Navbar() {
    // Su dung useContext de lay gia tri da duoc truyen xuong tu Provider
    const theme = useContext(ThemeContext);

    return (
        <div>
            <p>Theme: {theme}</p>
        </div>
    );
}
```

- Trong ví dụ trên, giá trị `dark` được truyền vào qua thuộc tính `value` của `Provider component`. Sau đó , trong component `Navbar`, ta sử dụng `useContext` để lấy giá trị `theme`. Giá trị này chính là giá trị được truyền xuống từ `Provider`.

- Khi sử dụng `useContext` để lấy giá trị từ `ThemeContext` trong component `Navbar`, giá trị được trả về là "dark", vì trong `App`, `ThemeContext.Provider` đã được khai báo với value là `"dark"`. Vì vậy, khi navbar sử dụng useContext, nó sẽ nhận được giá trị `dark` từ ThemeContext.

## `Value` là `props` mặc định của `Provider` đúng không?

- Đúng, value là một prop mặc định của Provider trong React. Prop này được sử dụng để truyền giá trị của Context đến các component con nằm trong Provider. Khi giá trị của Context thay đổi, Provider sẽ tự động cập nhật lại giá trị này cho các component con.

## Tại sao khai báo `context` ở ngoài hàm ?

- Khai báo `Context` ở ngoài hàm là để có thể sử dụng lại `Context` đó ở bất kỳ thành phần nào trong ứng dụng React, thay vì phải khai báo lại ở mỗi thành phần. Điều này giúp cho việc quản lý `state` của ứng dụng dễ dàng hơn, giảm sự trùng lặp code và cải thiện khả năng tái sử dụng của code.

- Ví dụ, nếu ta cần sử dụng cùng một `Context` trong hai component khác nhau, thì ta có thể khai báo `Context` ở ngoài cả hai component và sử dụng chung, thay vì phải khai báo lại ở từng component. Việc này cũng giúp cho việc bảo trì và chỉnh sửa code dễ dàng hơn.


